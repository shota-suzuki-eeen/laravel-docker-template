# Laravel Lesson レビュー①

## Todo一覧機能

### Todoモデルのallメソッドで実行しているSQLは何か
SELECT * FROM todos;

### Todoモデルのallメソッドの返り値は何か
"Illuminate\Database\Eloquent\Collection"

### 配列の代わりにCollectionクラスを使用するメリットは
1. 一貫性と可読性
コレクションを使用することで、データ操作のコードが一貫しており、可読性が向上。複雑なループや条件分岐を避け、シンプルなメソッドチェーンで表現できる。

2. 豊富なメソッド
コレクションは、データのフィルタリング、変換、集計など、さまざまな操作を簡単に行うための豊富なメソッドを提供。これにより、開発者は効率的にデータを操作できる。

3. オブジェクト指向
コレクションはオブジェクト指向の考え方に基づいており、データとその操作を一つのオブジェクトとして扱う。これにより、コードが直感的で保守しやすくなる。

### view関数の第1・第2引数の指定と何をしているか
・第一引数：画面に表示したいbladeファイル
・第二引数：渡したいデータを連想配列の形で渡す（[blade内での変数名 => 代入したい値]）
・何をしているか：Controllerから、HTMLを表すbladeファイルへデータを渡す

### index.blade.phpの$todos・$todoに代入されているものは何か
$todos：$todo->all();で取得した全レコードのCollection
$todo：foreach内で$todosの一件分のモデル

## Todo作成機能

### Requestクラスのallメソッドは何をしているか
フォームから送られてきた全ての入力データを連想配列として取得。

### fillメソッドは何をしているか
モデルの指定されたカラムに一括でデータを代入している。

### $fillableは何のために設定しているか
悪意のある入力（例：なりすまし等）を防ぐ観点から、代入可能なカラムを限定するために設定している。

### saveメソッドで実行しているSQLは何か
モデルが新規の場合、INSERT
すでにデータベースに存在する場合、UPDATE

### redirect()->route()は何をしているか
指定した名前付きルートへリダイレクトしている。

## その他

### テーブル構成をマイグレーションファイルで管理するメリット
・SQLを知らなくても、PHPコードでテーブル操作が出来るため学習コストが低い
・現在のデータベースの状況を他の開発者に共有することが出来る

### マイグレーションファイルのup()、down()は何のコマンドを実行した時に呼び出されるのか
・up()：php artisan migrate
・down()：php artisan migrate:rollback

### Seederクラスの役割は何か
データベースに初期データを登録するための機能
・シーダーを使うメリット
①SQLを知らなくても、PHPコードでテーブル操作ができるため学習コストが不要
②シーダーファイルをgit管理することで、テストデータを開発者間で共有できる

### route関数の引数・返り値・使用するメリット
・引数：名前付きルート
・返り値：ルートに対応するURL
・メリット：URL変更に強く、可読性と保守性が高い

### @extends・@section・@yieldの関係性とbladeを分割するメリット
・可読性、保守性の向上
・共通部分の再利用

### @csrfは何のための記述か
CSRF対策のためにトークンをフォームに埋め込む。

### {{ }}とは何の省略系か
<?php echo e(...); ?> の省略形。
e() 関数は Laravel の ヘルパ関数で、内部的には htmlspecialchars(..., ENT_QUOTES, 'UTF-8') を実行。